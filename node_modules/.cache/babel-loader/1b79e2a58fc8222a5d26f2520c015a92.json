{"ast":null,"code":"import _taggedTemplateLiteral from\"C:\\\\Users\\\\user\\\\Desktop\\\\SBPGIT\\\\DAPP_Staking_SBP\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";import _slicedToArray from\"C:\\\\Users\\\\user\\\\Desktop\\\\SBPGIT\\\\DAPP_Staking_SBP\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2;import React,{useState,useEffect}from'react';import styled from'styled-components';import StatkingInfoBox from'./StakingInfoBox';import Header from'./Header';import StakingBox from'./StakingBox';import Store from'../store/store';import{useObserver}from'mobx-react';import CustomModal from'./Modal';//  Store.stakedPools = {\n//   0: \"664453334\", //staking amount\n// 1: \"1699150422\", // release data\n// 2: true, //isSet\n// 3: false, //claimed\n// 4: \"9\", // poolreward\n// 5: \"2\",\n// PoolRewardPercentage: \"9\",\n// amount: \"664453334\",\n// claimed: false,\n// isSet: true,\n// releaseDate: \"1699150422\",\n// storageId: \"2\",\n// stakingId: \"1\",\n// }\nvar Main=function Main(){useEffect(function(){Store.fetchContract().then(function(res){if(res){Store.getStakingPool();// storage 정보\nStore.getTVL();Store.getPenaltyFee();}});},[]);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modalVisible=_useState2[0],setModalVisible=_useState2[1];var _useState3=useState('claim'),_useState4=_slicedToArray(_useState3,2),modalType=_useState4[0],setModalType=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),stakingId=_useState6[0],setStakingId=_useState6[1];var handleClaim=function handleClaim(_ref){var stakingId=_ref.stakingId,type=_ref.type;setModalVisible(true);setModalType(type);setStakingId(stakingId);};var handleClose=function handleClose(){setModalVisible(false);};return useObserver(function(){return/*#__PURE__*/React.createElement(MainContainer,{className:\"MainContainer\"},/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(StakingBox,null),/*#__PURE__*/React.createElement(Dividence,null),Store.stakedPools&&Store.stakedPools.length>0&&Store.stakedPools.map(function(elem){return!elem.claimed?/*#__PURE__*/React.createElement(StatkingInfoBox,{stakingInfo:elem,handleClaim:handleClaim}):null;}),/*#__PURE__*/React.createElement(CustomModal,{visible:modalVisible,onRequestClose:handleClose,type:modalType,stakingId:stakingId}));});};export default Main;var MainContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-flow: column;\\n  color: blue;\\n  height: 100vh;\\n  /* background-color: red; */\\n  min-width: 320px;\\n  max-width: 640px;\\n  margin: 1.5rem auto 1.5rem auto;\\n\"])));var Dividence=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  margin: 1rem;\\n  height: 2px;\\n  background-color: #74564a;\\n\"])));","map":{"version":3,"sources":["C:/Users/user/Desktop/SBPGIT/DAPP_Staking_SBP/src/component/Main.js"],"names":["React","useState","useEffect","styled","StatkingInfoBox","Header","StakingBox","Store","useObserver","CustomModal","Main","fetchContract","then","res","getStakingPool","getTVL","getPenaltyFee","modalVisible","setModalVisible","modalType","setModalType","stakingId","setStakingId","handleClaim","type","handleClose","stakedPools","length","map","elem","claimed","MainContainer","div","Dividence"],"mappings":"iZAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAOC,CAAAA,eAAP,KAA4B,kBAA5B,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,gBAAlB,CACA,OAASC,WAAT,KAA4B,YAA5B,CACA,MAAOC,CAAAA,WAAP,KAAwB,SAAxB,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,CACjBR,SAAS,CAAC,UAAM,CACdK,KAAK,CAACI,aAAN,GAAsBC,IAAtB,CAA2B,SAAAC,GAAG,CAAI,CAChC,GAAIA,GAAJ,CAAS,CACPN,KAAK,CAACO,cAAN,GAAwB;AACxBP,KAAK,CAACQ,MAAN,GACAR,KAAK,CAACS,aAAN,GACD,CACF,CAND,EAOD,CARQ,CAQN,EARM,CAAT,CAUA,cAAwCf,QAAQ,CAAC,KAAD,CAAhD,wCAAOgB,YAAP,eAAqBC,eAArB,eACA,eAAkCjB,QAAQ,CAAC,OAAD,CAA1C,yCAAOkB,SAAP,eAAkBC,YAAlB,eACA,eAAkCnB,QAAQ,CAAC,EAAD,CAA1C,yCAAOoB,SAAP,eAAkBC,YAAlB,eACA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAAyB,IAAtBF,CAAAA,SAAsB,MAAtBA,SAAsB,CAAXG,IAAW,MAAXA,IAAW,CAC3CN,eAAe,CAAC,IAAD,CAAf,CACAE,YAAY,CAACI,IAAD,CAAZ,CACAF,YAAY,CAACD,SAAD,CAAZ,CACD,CAJD,CAKA,GAAMI,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBP,eAAe,CAAC,KAAD,CAAf,CACD,CAFD,CAIA,MAAOV,CAAAA,WAAW,CAAC,UAAM,CACvB,mBACE,oBAAC,aAAD,EAAe,SAAS,CAAC,eAAzB,eACE,oBAAC,MAAD,MADF,cAEE,oBAAC,UAAD,MAFF,cAGE,oBAAC,SAAD,MAHF,CAIGD,KAAK,CAACmB,WAAN,EACCnB,KAAK,CAACmB,WAAN,CAAkBC,MAAlB,CAA2B,CAD5B,EAECpB,KAAK,CAACmB,WAAN,CAAkBE,GAAlB,CAAsB,SAAAC,IAAI,CAAI,CAC5B,MAAO,CAACA,IAAI,CAACC,OAAN,cACL,oBAAC,eAAD,EAAiB,WAAW,CAAED,IAA9B,CAAoC,WAAW,CAAEN,WAAjD,EADK,CAEH,IAFJ,CAGD,CAJD,CANJ,cAWE,oBAAC,WAAD,EACE,OAAO,CAAEN,YADX,CAEE,cAAc,CAAEQ,WAFlB,CAGE,IAAI,CAAEN,SAHR,CAIE,SAAS,CAAEE,SAJb,EAXF,CADF,CAoBD,CArBiB,CAAlB,CAsBD,CA7CD,CA8CA,cAAeX,CAAAA,IAAf,CAEA,GAAMqB,CAAAA,aAAa,CAAG5B,MAAM,CAAC6B,GAAV,2PAAnB,CAWA,GAAMC,CAAAA,SAAS,CAAG9B,MAAM,CAAC6B,GAAV,oIAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport StatkingInfoBox from './StakingInfoBox';\nimport Header from './Header';\nimport StakingBox from './StakingBox';\nimport Store from '../store/store';\nimport { useObserver } from 'mobx-react';\nimport CustomModal from './Modal';\n//  Store.stakedPools = {\n//   0: \"664453334\", //staking amount\n// 1: \"1699150422\", // release data\n// 2: true, //isSet\n// 3: false, //claimed\n// 4: \"9\", // poolreward\n// 5: \"2\",\n// PoolRewardPercentage: \"9\",\n// amount: \"664453334\",\n// claimed: false,\n// isSet: true,\n// releaseDate: \"1699150422\",\n// storageId: \"2\",\n// stakingId: \"1\",\n// }\n\nconst Main = () => {\n  useEffect(() => {\n    Store.fetchContract().then(res => {\n      if (res) {\n        Store.getStakingPool(); // storage 정보\n        Store.getTVL();\n        Store.getPenaltyFee();\n      }\n    });\n  }, []);\n\n  const [modalVisible, setModalVisible] = useState(false);\n  const [modalType, setModalType] = useState('claim');\n  const [stakingId, setStakingId] = useState('');\n  const handleClaim = ({ stakingId, type }) => {\n    setModalVisible(true);\n    setModalType(type);\n    setStakingId(stakingId);\n  };\n  const handleClose = () => {\n    setModalVisible(false);\n  };\n\n  return useObserver(() => {\n    return (\n      <MainContainer className=\"MainContainer\">\n        <Header />\n        <StakingBox />\n        <Dividence />\n        {Store.stakedPools &&\n          Store.stakedPools.length > 0 &&\n          Store.stakedPools.map(elem => {\n            return !elem.claimed ? (\n              <StatkingInfoBox stakingInfo={elem} handleClaim={handleClaim} />\n            ) : null;\n          })}\n        <CustomModal\n          visible={modalVisible}\n          onRequestClose={handleClose}\n          type={modalType}\n          stakingId={stakingId}\n        />\n      </MainContainer>\n    );\n  });\n};\nexport default Main;\n\nconst MainContainer = styled.div`\n  display: flex;\n  flex-flow: column;\n  color: blue;\n  height: 100vh;\n  /* background-color: red; */\n  min-width: 320px;\n  max-width: 640px;\n  margin: 1.5rem auto 1.5rem auto;\n`;\n\nconst Dividence = styled.div`\n  margin: 1rem;\n  height: 2px;\n  background-color: #74564a;\n`;\n"]},"metadata":{},"sourceType":"module"}